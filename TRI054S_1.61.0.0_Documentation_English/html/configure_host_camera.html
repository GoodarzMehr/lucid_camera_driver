

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Configuring the Camera and Host System &mdash; TRI054S 1.59.0.0 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  
  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="TRI054S 1.59.0.0 documentation" href="index.html"/>
        <link rel="next" title="Using the Camera" href="using_camera.html"/>
        <link rel="prev" title="Installing the Camera Hardware" href="install_camera_hardware_triton.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="ExternalDoc.html" class="icon icon-home"> TRI054S
          

          
            
            <img src="../lucid-white-logo.png" class="logo" />
          
          </a>

          
            
            
              <div class="version">
                1.59.0.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="welcome_page.html">Welcome!</a></li>
<li class="toctree-l1"><a class="reference internal" href="safety_and_precautions.html">Safety and Precautions</a></li>
<li class="toctree-l1"><a class="reference internal" href="contact_us.html">Contact Us</a></li>
<li class="toctree-l1"><a class="reference internal" href="install_camera_hardware_triton.html">Installing the Camera Hardware</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Configuring the Camera and Host System</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#installing-the-ethernet-driver">Installing the Ethernet Driver</a></li>
<li class="toctree-l2"><a class="reference internal" href="#device-discovery-and-enumeration">Device Discovery and Enumeration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#camera-ip-setup">Camera IP Setup</a></li>
<li class="toctree-l3"><a class="reference internal" href="#setting-up-persistent-ip">Setting Up Persistent IP</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#bandwidth-management">Bandwidth Management</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#jumbo-frames">Jumbo Frames</a></li>
<li class="toctree-l3"><a class="reference internal" href="#receive-buffers">Receive Buffers</a></li>
<li class="toctree-l3"><a class="reference internal" href="#device-link-throughput-limit">Device Link Throughput Limit</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#user-sets-streamables-and-file-access">User Sets, Streamables, and File Access</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#user-sets">User Sets</a></li>
<li class="toctree-l3"><a class="reference internal" href="#streamables">Streamables</a></li>
<li class="toctree-l3"><a class="reference internal" href="#file-access">File Access</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="using_camera.html">Using the Camera</a></li>
<li class="toctree-l1"><a class="reference internal" href="camera_specification_triton.html">Camera Specifications</a></li>
<li class="toctree-l1"><a class="reference internal" href="camera_features_triton.html">Camera Features</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="CategoryDoc.html">Device Nodes</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="ExternalDoc.html">TRI054S</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="ExternalDoc.html">Docs</a> &raquo;</li>
        
      <li>Configuring the Camera and Host System</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="configuring-the-camera-and-host-system">
<h1><a class="toc-backref" href="#id1">Configuring the Camera and Host System</a><a class="headerlink" href="#configuring-the-camera-and-host-system" title="Permalink to this headline">¶</a></h1>
<div class="contents topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#configuring-the-camera-and-host-system" id="id1">Configuring the Camera and Host System</a><ul>
<li><a class="reference internal" href="#installing-the-ethernet-driver" id="id2">Installing the Ethernet Driver</a></li>
<li><a class="reference internal" href="#device-discovery-and-enumeration" id="id3">Device Discovery and Enumeration</a><ul>
<li><a class="reference internal" href="#camera-ip-setup" id="id4">Camera IP Setup</a></li>
<li><a class="reference internal" href="#setting-up-persistent-ip" id="id5">Setting Up Persistent IP</a></li>
</ul>
</li>
<li><a class="reference internal" href="#bandwidth-management" id="id6">Bandwidth Management</a><ul>
<li><a class="reference internal" href="#jumbo-frames" id="id7">Jumbo Frames</a></li>
<li><a class="reference internal" href="#receive-buffers" id="id8">Receive Buffers</a></li>
<li><a class="reference internal" href="#device-link-throughput-limit" id="id9">Device Link Throughput Limit</a></li>
</ul>
</li>
<li><a class="reference internal" href="#user-sets-streamables-and-file-access" id="id10">User Sets, Streamables, and File Access</a><ul>
<li><a class="reference internal" href="#user-sets" id="id11">User Sets</a></li>
<li><a class="reference internal" href="#streamables" id="id12">Streamables</a></li>
<li><a class="reference internal" href="#file-access" id="id13">File Access</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="installing-the-ethernet-driver">
<h2><a class="toc-backref" href="#id2">Installing the Ethernet Driver</a><a class="headerlink" href="#installing-the-ethernet-driver" title="Permalink to this headline">¶</a></h2>
<p>Lucid Vision Labs recommends updating to the latest version of your Ethernet
adapter&#8217;s driver before connecting your camera. You may need to navigate to the
manufacturer&#8217;s website to find the latest version of the driver.</p>
</div>
<div class="section" id="device-discovery-and-enumeration">
<h2><a class="toc-backref" href="#id3">Device Discovery and Enumeration</a><a class="headerlink" href="#device-discovery-and-enumeration" title="Permalink to this headline">¶</a></h2>
<p>Lucid cameras are discovered and enumerated with the following
process:</p>
<div class="figure">
<a class="reference internal image-reference" href="_images/device_connection_enumeration.svg"><img alt="Flow Chart - How Lucid Vision Labs cameras are discovered and enumerated" src="_images/device_connection_enumeration.svg" width="70%" /></a>
</div>
<div class="section" id="camera-ip-setup">
<h3><a class="toc-backref" href="#id4">Camera IP Setup</a><a class="headerlink" href="#camera-ip-setup" title="Permalink to this headline">¶</a></h3>
<p>There are three methods used by LUCID cameras to obtain an IP address:</p>
<ul class="simple">
<li>Persistent - The camera uses a fixed IP address</li>
<li>Dynamic Host Configuration Protocol (DHCP) - The camera is assigned an address from a DHCP server</li>
<li>Link-Local Address (LLA) - The camera obtains an address in the Link-Local Address range from 169.254.1.0 to 169.254.254.255</li>
</ul>
<table border="1" class="docutils">
<colgroup>
<col width="9%" />
<col width="91%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="_images/lightbulb_icon.png"><img alt="light_bulb" src="_images/lightbulb_icon.png" style="width: 50px;" /></a></td>
<td>A Link-Local Address is selected with a pseudo-random number generator, so an LLA address cannot be reliably predicted.
If you require a consistent IP address, you should set up a persistent IP on the camera.
For more information on Link-Local Address selection, refer to <a class="reference external" href="https://tools.ietf.org/html/rfc3927#section-2.1">Section 2.1 in RFC 3927</a>.</td>
</tr>
</tbody>
</table>
<table border="1" class="docutils">
<colgroup>
<col width="7%" />
<col width="93%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td rowspan="2"><a class="reference internal" href="_images/help_icon.png"><img alt="help" src="_images/help_icon.png" style="width: 70px;" /></a></td>
<td rowspan="2">The camera must be on the same subnet as the Ethernet adapter and have a valid IP address before use.</td>
</tr>
<tr class="row-even"></tr>
</tbody>
</table>
<p>Persistent IP and DHCP configurations can be disabled on the camera. The default camera configuration is as follows:</p>
<table border="1" class="docutils">
<colgroup>
<col width="42%" />
<col width="58%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>Persistent IP</strong></td>
<td>Disabled</td>
</tr>
<tr class="row-even"><td><strong>DHCP</strong></td>
<td>Enabled</td>
</tr>
<tr class="row-odd"><td><strong>LLA</strong></td>
<td>Enabled (always enabled)</td>
</tr>
</tbody>
</table>
<p>Out of the box, the camera first attempts to connect using DHCP. If the camera is unable to connect using DHCP, it will use Link-Local Addressing.</p>
</div>
<div class="section" id="setting-up-persistent-ip">
<h3><a class="toc-backref" href="#id5">Setting Up Persistent IP</a><a class="headerlink" href="#setting-up-persistent-ip" title="Permalink to this headline">¶</a></h3>
<p>The following pseudocode demonstrates setting up persistent IP:</p>
<div class="highlight-cpp"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1">// Connect to camera</span>
<span class="c1">// Get device node map </span>

<span class="n">GevCurrentIPConfigurationPersistentIP</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>   
<span class="n">GevPersistentIPAddress</span> <span class="o">=</span> <span class="mf">192.168.0.10</span><span class="p">;</span> <span class="c1">//Enter persistent IP address for the camera </span>
<span class="n">GevPersistentSubnetMask</span> <span class="o">=</span> <span class="mf">255.255.255.0</span><span class="p">;</span>
<span class="n">GevPersistentDefaultGateway</span> <span class="o">=</span> <span class="mf">192.168.0.1</span><span class="p">;</span>
</pre></div>
</td></tr></table></div>
</div>
</div>
<div class="section" id="bandwidth-management">
<h2><a class="toc-backref" href="#id6">Bandwidth Management</a><a class="headerlink" href="#bandwidth-management" title="Permalink to this headline">¶</a></h2>
<div class="section" id="jumbo-frames">
<h3><a class="toc-backref" href="#id7">Jumbo Frames</a><a class="headerlink" href="#jumbo-frames" title="Permalink to this headline">¶</a></h3>
<p>Lucid Vision Labs recommends enabling jumbo frames on your Ethernet adapter. A
jumbo frame is an Ethernet frame that is larger than 1500 bytes. Most Ethernet
adapters support jumbo frames, however it is usually turned off by default.</p>
<p>Enabling jumbo frames on the Ethernet adapter allows a packet size of
up to 9000 bytes to be set on the TRI054S. The larger packet size will
enable optimal performance on high-bandwidth cameras, and it usually reduces
CPU load on the host system. Please note in order to set a 9000 byte packet size
on the camera, the Ethernet adapter must support a jumbo frame size of 9000
bytes or higher.</p>
<p>The following table are some of the Ethernet adapters that Lucid Vision Labs has
tested:</p>
<table border="1" class="docutils">
<colgroup>
<col width="54%" />
<col width="46%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Product Name</th>
<th class="head">Maximum Jumbo Frame Size</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>ADLINK PCIe-GIE64+</td>
<td>9000</td>
</tr>
<tr class="row-odd"><td>Neousys PCIe-PoE354at</td>
<td>9500</td>
</tr>
<tr class="row-even"><td>Intel EXPI9301CT (non-POE)</td>
<td>9000</td>
</tr>
</tbody>
</table>
<p>If you still experience issues such as lost packets or dropped frames, you
can also try:</p>
<ul class="simple">
<li>Updating the Ethernet adapter driver (you may need to enable jumbo frames again after updating).</li>
<li>Increasing the receive buffer size in your Ethernet adapter properties.</li>
<li>Reducing the DeviceLinkThroughputLimit value (this may reduce maximum frame rate).</li>
</ul>
</div>
<div class="section" id="receive-buffers">
<h3><a class="toc-backref" href="#id8">Receive Buffers</a><a class="headerlink" href="#receive-buffers" title="Permalink to this headline">¶</a></h3>
<p>A receive buffer is the size of system memory that can be used by the Ethernet
adapter to receive packets. Some Ethernet adapter drivers or the operating
system itself may set the receive buffer value to a low value by default, which
may result in decreased performance. Increasing the receive buffer size,
however, will also result in increased system memory usage.</p>
</div>
<div class="section" id="device-link-throughput-limit">
<h3><a class="toc-backref" href="#id9">Device Link Throughput Limit</a><a class="headerlink" href="#device-link-throughput-limit" title="Permalink to this headline">¶</a></h3>
<p>The Device Link Throughput Limit is the maximum available bandwidth for
transmission of data represented in bytes per second. This can be used to
control the amount of bandwidth used by the camera. The maximum available
frame rate may decrease when this value is lowered since less bandwidth is
available for transmission.</p>
</div>
</div>
<div class="section" id="user-sets-streamables-and-file-access">
<h2><a class="toc-backref" href="#id10">User Sets, Streamables, and File Access</a><a class="headerlink" href="#user-sets-streamables-and-file-access" title="Permalink to this headline">¶</a></h2>
<div class="section" id="user-sets">
<h3><a class="toc-backref" href="#id11">User Sets</a><a class="headerlink" href="#user-sets" title="Permalink to this headline">¶</a></h3>
<p>The TRI054S features two customizable user sets to load or save
user-defined settings on the camera. Accessing the user set named Default
will allow loading or saving of factory default settings. The TRI054S
will load the user set selected in UserSetDefault when powering up or when
reset.</p>
<table border="1" class="docutils">
<colgroup>
<col width="12%" />
<col width="88%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td rowspan="2"><a class="reference internal" href="_images/lightbulb_icon.png"><img alt="light_bulb" src="_images/lightbulb_icon.png" style="width: 50px;" /></a></td>
<td rowspan="2">If the camera is acquiring images, AcquisitionStop must be called before loading or saving a user set.</td>
</tr>
<tr class="row-even"></tr>
</tbody>
</table>
</div>
<div class="section" id="streamables">
<h3><a class="toc-backref" href="#id12">Streamables</a><a class="headerlink" href="#streamables" title="Permalink to this headline">¶</a></h3>
<p>A camera feature marked as Streamable allows the feature&#8217;s current value to be
stored to and loaded from a file.</p>
</div>
<div class="section" id="file-access">
<h3><a class="toc-backref" href="#id13">File Access</a><a class="headerlink" href="#file-access" title="Permalink to this headline">¶</a></h3>
<p>The TRI054S features persistent storage for generic file access on the
camera. This feature allows users to save and load a custom file up to 16
megabytes with UserFile. Users can also save and load User Set contents to and
from a file.</p>
<table border="1" class="docutils">
<colgroup>
<col width="15%" />
<col width="85%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td rowspan="2"><a class="reference internal" href="_images/lightbulb_icon.png"><img alt="light_bulb" src="_images/lightbulb_icon.png" style="width: 50px;" /></a></td>
<td rowspan="2">Loading new firmware onto the camera may overwrite existing UserFile contents.</td>
</tr>
<tr class="row-even"></tr>
</tbody>
</table>
<p>The following pseudocode demonstrates reading from the camera using file access:</p>
<div class="highlight-cpp"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1">// Connect to camera</span>
<span class="c1">// Get device node map </span>
<span class="n">FileSelector</span> <span class="o">=</span> <span class="n">UserFile1</span><span class="p">;</span>
<span class="n">FileOpenMode</span> <span class="o">=</span> <span class="n">Read</span><span class="p">;</span>
<span class="n">FileOperationSelector</span> <span class="o">=</span> <span class="n">Open</span><span class="p">;</span>
<span class="n">FileOperationExecute</span><span class="p">();</span>
<span class="c1">// Device sets FileOperationSelector = Close</span>
<span class="c1">// Read custom file from camera </span>
<span class="n">FileOperationExecute</span><span class="p">();</span>
<span class="c1">// Device sets FileOperationSelector = Open</span>
</pre></div>
</td></tr></table></div>
<p>The following pseudocode demonstrates writing to the camera using file access:</p>
<div class="highlight-cpp"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1">// Connect to camera</span>
<span class="c1">// Get device node map </span>
<span class="n">FileSelector</span> <span class="o">=</span> <span class="n">UserFile1</span><span class="p">;</span>
<span class="n">FileOpenMode</span> <span class="o">=</span> <span class="n">Write</span><span class="p">;</span>
<span class="n">FileOperationSelector</span> <span class="o">=</span> <span class="n">Open</span><span class="p">;</span>
<span class="n">FileOperationExecute</span><span class="p">();</span>
<span class="c1">// Device sets FileOperationSelector = Close</span>
<span class="c1">// Write custom file to camera </span>
<span class="n">FileOperationExecute</span><span class="p">();</span>
<span class="c1">// Device sets FileOperationSelector = Open</span>
</pre></div>
</td></tr></table></div>
<table border="1" class="docutils">
<colgroup>
<col width="12%" />
<col width="88%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td rowspan="2"><a class="reference internal" href="_images/lightbulb_icon.png"><img alt="light_bulb" src="_images/lightbulb_icon.png" style="width: 50px;" /></a></td>
<td rowspan="2">User Sets, Streamables, and File Access functions do not load or save camera IP configuration settings.</td>
</tr>
<tr class="row-even"></tr>
</tbody>
</table>
</div>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="using_camera.html" class="btn btn-neutral float-right" title="Using the Camera" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="install_camera_hardware_triton.html" class="btn btn-neutral" title="Installing the Camera Hardware" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Lucid Vision Labs.

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'1.59.0.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="_static/examplecode.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>